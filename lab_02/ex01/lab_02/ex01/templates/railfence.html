<!DOCTYPE html>
<html lang="en">
<head>
    <title>Rail Fence Cipher</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" rel="stylesheet"/>
</head>
<body>
<div class="container mt-5">
    <h2 class="text-center font-weight-bold mb-4">RAIL FENCE CIPHER</h2>

    <h4 class="text-primary">ENCRYPTION</h4>
    <form method="POST" action="/encrypt_railfence">
        <div class="mb-3">
            <label>Plain text:</label>
            <input type="text" class="form-control" name="inputPlainText" required
                   value="{{ request.form.inputPlainText if request.form.get('inputPlainText') else '' }}"/>
        </div>
        <div class="mb-3">
            <label>Key (số hàng):</label>
            <input type="number" class="form-control" name="inputKeyPlain" required
                   value="{{ request.form.inputKeyPlain if request.form.get('inputKeyPlain') else '' }}"/>
        </div>
        <button type="submit" class="btn btn-primary">Encrypt</button>
    </form>
    {% if encrypted %}
    <div class="alert alert-info mt-3"><strong>Encrypted text:</strong> {{ encrypted }}</div>
    {% endif %}

    <hr/>
    <h4 class="text-primary">DECRYPTION</h4>
    <form method="POST" action="/decrypt_railfence">
        <div class="mb-3">
            <label>Cipher text:</label>
            <input type="text" class="form-control" name="inputCipherText" required
                   value="{{ request.form.inputCipherText if request.form.get('inputCipherText') else '' }}"/>
        </div>
        <div class="mb-3">
            <label>Key (số hàng):</label>
            <input type="number" class="form-control" name="inputKeyCipher" required
                   value="{{ request.form.inputKeyCipher if request.form.get('inputKeyCipher') else '' }}"/>
        </div>
        <button type="submit" class="btn btn-success">Decrypt</button>
    </form>
    {% if decrypted %}
    <div class="alert alert-success mt-3"><strong>Decrypted text:</strong> {{ decrypted }}</div>
    {% endif %}

    <hr />
    <div class="text-center mt-4">
        <a href="/" class="btn btn-secondary">Quay về trang chính</a>
    </div>
</div>
</body>
</html>
